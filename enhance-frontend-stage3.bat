@echo off
chcp 65001 >nul
echo ====================================
echo ÂâçÁ´Ø‰∫íÂãïÂäüËÉΩÂ¢ûÂº∑ - Á¨¨‰∏âÈöéÊÆµ
echo Âª∫Á´ãËÄÉË©¶‰ªãÈù¢ÂíåÁµêÊûúÈ†ÅÈù¢
echo ====================================
echo.

REM Á¢∫‰øùÁ¨¨‰∫åÈöéÊÆµÂ∑≤ÂÆåÊàê
if not exist "frontend\src\App.jsx" (
    echo ‚ùå ÈåØË™§ÔºöÊâæ‰∏çÂà∞ App.jsxÔºåË´ãÂÖàÂü∑Ë°åÂâçÂÖ©ÂÄãÈöéÊÆµ
    pause
    exit /b 1
)

echo ‚úÖ Âª∫Á´ãËÄÉË©¶‰ªãÈù¢ÂíåÁµêÊûúÈ†ÅÈù¢...
echo.

REM ÁπºÁ∫åÂª∫Á´ãËÄÉË©¶‰ªãÈù¢
echo üîß Âª∫Á´ãËÄÉË©¶‰ªãÈù¢Ë¶ñÂúñ...
echo. >> frontend\src\App.jsx
echo   // ËÄÉË©¶‰ªãÈù¢Ë¶ñÂúñ >> frontend\src\App.jsx
echo   const ExamInterface = ^(^) =^> ( >> frontend\src\App.jsx
echo     ^<div className="min-h-screen bg-gray-50"^> >> frontend\src\App.jsx
echo       ^<nav className="bg-white shadow-sm border-b"^> >> frontend\src\App.jsx
echo         ^<div className="max-w-7xl mx-auto px-4 py-3"^> >> frontend\src\App.jsx
echo           ^<div className="flex items-center justify-between"^> >> frontend\src\App.jsx
echo             ^<h1 className="text-xl font-semibold text-gray-800"^>{selectedSubject?.name}^</h1^> >> frontend\src\App.jsx
echo             ^<div className="flex items-center gap-6"^> >> frontend\src\App.jsx
echo               ^<div className="flex items-center gap-2 text-gray-600"^> >> frontend\src\App.jsx
echo                 ^<span^>Â∑≤Á≠î: {Object.keys(userAnswers^).length}/80^</span^> >> frontend\src\App.jsx
echo               ^</div^> >> frontend\src\App.jsx
echo               ^<div className="flex items-center gap-2"^> >> frontend\src\App.jsx
echo                 ^<span className={`font-mono text-lg ${examTimer ^< 600 ? 'text-red-600 font-bold' : 'text-gray-700'}`}^> >> frontend\src\App.jsx
echo                   {formatTime(examTimer^)} >> frontend\src\App.jsx
echo                 ^</span^> >> frontend\src\App.jsx
echo               ^</div^> >> frontend\src\App.jsx
echo               ^<button onClick={^(^) =^> { setIsExamActive(false^); setCurrentView('result'^) }} className="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"^>Êèê‰∫§^</button^> >> frontend\src\App.jsx
echo             ^</div^> >> frontend\src\App.jsx
echo           ^</div^> >> frontend\src\App.jsx
echo         ^</div^> >> frontend\src\App.jsx
echo       ^</nav^> >> frontend\src\App.jsx
echo. >> frontend\src\App.jsx
echo       ^<div className="max-w-7xl mx-auto px-4 py-6"^> >> frontend\src\App.jsx
echo         ^<div className="grid grid-cols-1 lg:grid-cols-4 gap-6"^> >> frontend\src\App.jsx
echo           ^{/* È°åÁõÆÂ∞éËà™Èù¢Êùø */} >> frontend\src\App.jsx
echo           ^<div className="lg:col-span-1"^> >> frontend\src\App.jsx
echo             ^<div className="bg-white rounded-lg shadow-sm p-4"^> >> frontend\src\App.jsx
echo               ^<h3 className="font-semibold text-gray-800 mb-3"^>È°åÁõÆÂ∞éËà™^</h3^> >> frontend\src\App.jsx
echo               ^<div className="grid grid-cols-8 gap-1"^> >> frontend\src\App.jsx
echo                 {mockQuestions.map(^(_, index^) =^> { >> frontend\src\App.jsx
echo                   const isAnswered = userAnswers[index + 1] >> frontend\src\App.jsx
echo                   const isCurrent = index === currentQuestion >> frontend\src\App.jsx
echo                   return ^( >> frontend\src\App.jsx
echo                     ^<button >> frontend\src\App.jsx
echo                       key={index} >> frontend\src\App.jsx
echo                       onClick={^(^) =^> setCurrentQuestion(index^)} >> frontend\src\App.jsx
echo                       className={` >> frontend\src\App.jsx
echo                         w-8 h-8 text-xs rounded border text-center transition-colors >> frontend\src\App.jsx
echo                         ${isCurrent ? 'ring-2 ring-blue-500' : ''} >> frontend\src\App.jsx
echo                         ${isAnswered ? 'bg-green-100 border-green-300 text-green-700' : 'bg-gray-100 border-gray-300 text-gray-700'} >> frontend\src\App.jsx
echo                         hover:bg-blue-50 >> frontend\src\App.jsx
echo                       `} >> frontend\src\App.jsx
echo                     ^> >> frontend\src\App.jsx
echo                       {index + 1} >> frontend\src\App.jsx
echo                     ^</button^> >> frontend\src\App.jsx
echo                   ^) >> frontend\src\App.jsx
echo                 }^)} >> frontend\src\App.jsx
echo               ^</div^> >> frontend\src\App.jsx
echo               ^<div className="mt-4 space-y-2 text-xs text-gray-600"^> >> frontend\src\App.jsx
echo                 ^<div className="flex items-center gap-2"^> >> frontend\src\App.jsx
echo                   ^<div className="w-3 h-3 bg-green-100 border border-green-300 rounded"^>^</div^> >> frontend\src\App.jsx
echo                   ^<span^>Â∑≤‰ΩúÁ≠î^</span^> >> frontend\src\App.jsx
echo                 ^</div^> >> frontend\src\App.jsx
echo                 ^<div className="flex items-center gap-2"^> >> frontend\src\App.jsx
echo                   ^<div className="w-3 h-3 bg-gray-100 border border-gray-300 rounded"^>^</div^> >> frontend\src\App.jsx
echo                   ^<span^>Êú™‰ΩúÁ≠î^</span^> >> frontend\src\App.jsx
echo                 ^</div^> >> frontend\src\App.jsx
echo               ^</div^> >> frontend\src\App.jsx
echo             ^</div^> >> frontend\src\App.jsx
echo           ^</div^> >> frontend\src\App.jsx
echo. >> frontend\src\App.jsx
echo           ^{/* È°åÁõÆÂÖßÂÆπÂçÄ */} >> frontend\src\App.jsx
echo           ^<div className="lg:col-span-3"^> >> frontend\src\App.jsx
echo             ^<div className="bg-white rounded-lg shadow-sm p-6"^> >> frontend\src\App.jsx
echo               ^<div className="flex items-center justify-between mb-4"^> >> frontend\src\App.jsx
echo                 ^<h2 className="text-lg font-semibold text-gray-800"^>Á¨¨ {currentQuestion + 1} È°å^</h2^> >> frontend\src\App.jsx
echo               ^</div^> >> frontend\src\App.jsx
echo. >> frontend\src\App.jsx
echo               ^<div className="mb-6"^> >> frontend\src\App.jsx
echo                 ^<p className="text-gray-800 leading-relaxed mb-4"^> >> frontend\src\App.jsx
echo                   {mockQuestions[currentQuestion]?.question} >> frontend\src\App.jsx
echo                 ^</p^> >> frontend\src\App.jsx
echo               ^</div^> >> frontend\src\App.jsx
echo. >> frontend\src\App.jsx
echo               ^<div className="space-y-3 mb-6"^> >> frontend\src\App.jsx
echo                 {Object.entries(mockQuestions[currentQuestion]?.options || {}^).map(^([key, value]^) =^> ^( >> frontend\src\App.jsx
echo                   ^<button >> frontend\src\App.jsx
echo                     key={key} >> frontend\src\App.jsx
echo                     onClick={^(^) =^> selectAnswer(currentQuestion + 1, key^)} >> frontend\src\App.jsx
echo                     className={` >> frontend\src\App.jsx
echo                       w-full p-4 text-left rounded-lg border transition-colors >> frontend\src\App.jsx
echo                       ${userAnswers[currentQuestion + 1] === key >> frontend\src\App.jsx
echo                         ? 'bg-blue-100 border-blue-300 text-blue-800' >> frontend\src\App.jsx
echo                         : 'bg-gray-50 border-gray-200 text-gray-800 hover:bg-gray-100'} >> frontend\src\App.jsx
echo                     `} >> frontend\src\App.jsx
echo                   ^> >> frontend\src\App.jsx
echo                     ^<span className="font-semibold mr-3"^>^({key}^)^</span^> >> frontend\src\App.jsx
echo                     {value} >> frontend\src\App.jsx
echo                   ^</button^> >> frontend\src\App.jsx
echo                 ^)^)} >> frontend\src\App.jsx
echo               ^</div^> >> frontend\src\App.jsx
echo. >> frontend\src\App.jsx
echo               ^<div className="flex items-center justify-between"^> >> frontend\src\App.jsx
echo                 ^<button >> frontend\src\App.jsx
echo                   onClick={^(^) =^> setCurrentQuestion(Math.max(0, currentQuestion - 1^)^)} >> frontend\src\App.jsx
echo                   disabled={currentQuestion === 0} >> frontend\src\App.jsx
echo                   className="px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed" >> frontend\src\App.jsx
echo                 ^> >> frontend\src\App.jsx
echo                   ‰∏ä‰∏ÄÈ°å >> frontend\src\App.jsx
echo                 ^</button^> >> frontend\src\App.jsx
echo                 ^<span className="text-gray-600"^>{currentQuestion + 1} / 80^</span^> >> frontend\src\App.jsx
echo                 ^<button >> frontend\src\App.jsx
echo                   onClick={^(^) =^> setCurrentQuestion(Math.min(79, currentQuestion + 1^)^)} >> frontend\src\App.jsx
echo                   disabled={currentQuestion === 79} >> frontend\src\App.jsx
echo                   className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed" >> frontend\src\App.jsx
echo                 ^> >> frontend\src\App.jsx
echo                   ‰∏ã‰∏ÄÈ°å >> frontend\src\App.jsx
echo                 ^</button^> >> frontend\src\App.jsx
echo               ^</div^> >> frontend\src\App.jsx
echo             ^</div^> >> frontend\src\App.jsx
echo           ^</div^> >> frontend\src\App.jsx
echo         ^</div^> >> frontend\src\App.jsx
echo       ^</div^> >> frontend\src\App.jsx
echo     ^</div^> >> frontend\src\App.jsx
echo   ^) >> frontend\src\App.jsx
echo. >> frontend\src\App.jsx

echo ‚úÖ ËÄÉË©¶‰ªãÈù¢Âª∫Á´ãÂÆåÊàê
echo.

echo üîß Âª∫Á´ãËÄÉË©¶ÁµêÊûúÈ†ÅÈù¢...
echo   // ËÄÉË©¶ÁµêÊûúÈ†ÅÈù¢ >> frontend\src\App.jsx
echo   const ResultPage = ^(^) =^> { >> frontend\src\App.jsx
echo     const correctCount = Object.entries(userAnswers^).filter(^([questionId, answer]^) =^> >> frontend\src\App.jsx
echo       mockQuestions[parseInt(questionId^) - 1]?.correctAnswer === answer >> frontend\src\App.jsx
echo     ^).length >> frontend\src\App.jsx
echo     const score = (correctCount * 1.25^).toFixed(1^) >> frontend\src\App.jsx
echo     const percentage = ^((correctCount / 80^) * 100^).toFixed(1^) >> frontend\src\App.jsx
echo. >> frontend\src\App.jsx
echo     return ^( >> frontend\src\App.jsx
echo       ^<div className="min-h-screen bg-gray-50 flex items-center justify-center"^> >> frontend\src\App.jsx
echo         ^<div className="bg-white rounded-lg shadow-xl p-8 max-w-2xl w-full mx-4"^> >> frontend\src\App.jsx
echo           ^<div className="text-center mb-8"^> >> frontend\src\App.jsx
echo             ^<h2 className="text-3xl font-bold text-gray-900 mb-4"^>ËÄÉË©¶ÂÆåÊàêÔºÅ^</h2^> >> frontend\src\App.jsx
echo             ^<p className="text-xl text-gray-600"^>{selectedSubject?.name}^</p^> >> frontend\src\App.jsx
echo           ^</div^> >> frontend\src\App.jsx
echo. >> frontend\src\App.jsx
echo           ^<div className="grid grid-cols-2 gap-8 mb-8"^> >> frontend\src\App.jsx
echo             ^<div className="text-center"^> >> frontend\src\App.jsx
echo               ^<div className="text-4xl font-bold text-blue-600 mb-2"^>{score}^</div^> >> frontend\src\App.jsx
echo               ^<div className="text-gray-600"^>Á∏ΩÂàÜ ^(ÊªøÂàÜ100^)^</div^> >> frontend\src\App.jsx
echo             ^</div^> >> frontend\src\App.jsx
echo             ^<div className="text-center"^> >> frontend\src\App.jsx
echo               ^<div className="text-4xl font-bold text-green-600 mb-2"^>{correctCount}/80^</div^> >> frontend\src\App.jsx
echo               ^<div className="text-gray-600"^>Á≠îÂ∞çÈ°åÊï∏^</div^> >> frontend\src\App.jsx
echo             ^</div^> >> frontend\src\App.jsx
echo           ^</div^> >> frontend\src\App.jsx
echo. >> frontend\src\App.jsx
echo           ^<div className="mb-8"^> >> frontend\src\App.jsx
echo             ^<div className="bg-gray-200 rounded-full h-4 mb-2"^> >> frontend\src\App.jsx
echo               ^<div className="bg-blue-600 h-4 rounded-full" style={{width: `${percentage}%%`}}^>^</div^> >> frontend\src\App.jsx
echo             ^</div^> >> frontend\src\App.jsx
echo             ^<div className="text-center text-gray-600"^>Á≠îÂ∞çÁéá: {percentage}%%^</div^> >> frontend\src\App.jsx
echo           ^</div^> >> frontend\src\App.jsx
echo. >> frontend\src\App.jsx
echo           ^<div className="flex gap-4"^> >> frontend\src\App.jsx
echo             ^<button >> frontend\src\App.jsx
echo               onClick={^(^) =^> setCurrentView('dashboard'^)} >> frontend\src\App.jsx
echo               className="flex-1 py-3 px-6 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold" >> frontend\src\App.jsx
echo             ^> >> frontend\src\App.jsx
echo               ËøîÂõûÈ¶ñÈ†Å >> frontend\src\App.jsx
echo             ^</button^> >> frontend\src\App.jsx
echo             ^<button >> frontend\src\App.jsx
echo               onClick={^(^) =^> { >> frontend\src\App.jsx
echo                 setCurrentView('exam'^) >> frontend\src\App.jsx
echo                 setCurrentQuestion(0^) >> frontend\src\App.jsx
echo                 setExamTimer(3600^) >> frontend\src\App.jsx
echo                 setUserAnswers({}^) >> frontend\src\App.jsx
echo                 setIsExamActive(true^) >> frontend\src\App.jsx
echo               }} >> frontend\src\App.jsx
echo               className="flex-1 py-3 px-6 bg-green-600 text-white rounded-lg hover:bg-green-700 font-semibold" >> frontend\src\App.jsx
echo             ^> >> frontend\src\App.jsx
echo               ÈáçÊñ∞ËÄÉË©¶ >> frontend\src\App.jsx
echo             ^</button^> >> frontend\src\App.jsx
echo           ^</div^> >> frontend\src\App.jsx
echo         ^</div^> >> frontend\src\App.jsx
echo       ^</div^> >> frontend\src\App.jsx
echo     ^) >> frontend\src\App.jsx
echo   } >> frontend\src\App.jsx
echo. >> frontend\src\App.jsx

echo ‚úÖ ËÄÉË©¶ÁµêÊûúÈ†ÅÈù¢Âª∫Á´ãÂÆåÊàê
echo.

echo üîß Âª∫Á´ã‰∏ªË¶ÅÊ∏≤ÊüìÈÇèËºØ...
echo   // ‰∏ªË¶ÅÊ∏≤ÊüìÈÇèËºØ >> frontend\src\App.jsx
echo   return ^( >> frontend\src\App.jsx
echo     ^<div^> >> frontend\src\App.jsx
echo       {currentView === 'home' && ^<HomePage /^>} >> frontend\src\App.jsx
echo       {currentView === 'dashboard' && isLoggedIn && ^<Dashboard /^>} >> frontend\src\App.jsx
echo       {currentView === 'exam' && isLoggedIn && ^<ExamInterface /^>} >> frontend\src\App.jsx
echo       {currentView === 'result' && isLoggedIn && ^<ResultPage /^>} >> frontend\src\App.jsx
echo       {showLoginModal && ^<LoginModal /^>} >> frontend\src\App.jsx
echo     ^</div^> >> frontend\src\App.jsx
echo   ^) >> frontend\src\App.jsx
echo } >> frontend\src\App.jsx
echo. >> frontend\src\App.jsx
echo export default App >> frontend\src\App.jsx

echo ‚úÖ ‰∏ªË¶ÅÊ∏≤ÊüìÈÇèËºØÂª∫Á´ãÂÆåÊàê
echo.

echo üß™ Ê∏¨Ë©¶Âª∫ÁΩÆ...
cd frontend
npm run build
if %ERRORLEVEL% EQU 0 (
    echo ‚úÖ Âª∫ÁΩÆÊàêÂäüÔºÅ
    cd ..
) else (
    echo ‚ùå Âª∫ÁΩÆÂ§±ÊïóÔºåÊ™¢Êü•ÈåØË™§...
    cd ..
    pause
    exit /b 1
)

echo üöÄ ÈÉ®ÁΩ≤Âà∞ GitHub...
git add .
git commit -m "Add complete interactive exam system with timer and navigation"
git push origin main

echo.
if %ERRORLEVEL% EQU 0 (
    echo üéâüéâüéâ ÂÆåÊï¥ÁöÑ‰∫íÂãïËÄÉË©¶Á≥ªÁµ±ÈÉ®ÁΩ≤ÊàêÂäüÔºÅ üéâüéâüéâ
    echo.
    echo üìã Êñ∞ÂäüËÉΩÊëòË¶ÅÔºö
    echo ‚úÖ ÂèØÁî®ÁöÑÁôªÂÖ•Á≥ªÁµ± ^(DEMO001/demo123^)
    echo ‚úÖ Â≠∏ÁîüÂÑÄË°®Êùø ^(È°ØÁ§∫Áµ±Ë®àË≥áË®ä^)
    echo ‚úÖ ÂÖ≠Â§ßÁßëÁõÆËÄÉË©¶ÈÅ∏Êìá
    echo ‚úÖ ÂÆåÊï¥ÁöÑËÄÉË©¶‰ªãÈù¢ ^(80È°åÔºå60ÂàÜÈêò^)
    echo ‚úÖ È°åÁõÆÂ∞éËà™ ^(ÂèØË∑≥È°å^)
    echo ‚úÖ ÂÄíÊï∏Ë®àÊôÇÂô®
    echo ‚úÖ Âç≥ÊôÇÁ≠îÈ°åÁãÄÊÖã
    echo ‚úÖ ËÄÉË©¶ÁµêÊûúÈ†ÅÈù¢ ^(ÂàÜÊï∏Ë®àÁÆó^)
    echo ‚úÖ ÈáçËÄÉÂäüËÉΩ
    echo.
    echo üåê ‰Ω†ÁöÑÁ∂≤Á´ôÔºöhttps://ctmt88.github.io/medical-exam-system/
    echo.
    echo üéØ ÁèæÂú®‰Ω†ÂèØ‰ª•Ôºö
    echo 1. Á≠âÂæÖ 2-3 ÂàÜÈêòËÆì GitHub Actions ÈÉ®ÁΩ≤
    echo 2. Ë®™ÂïèÁ∂≤Á´ôÊ∏¨Ë©¶ÊâÄÊúâÂäüËÉΩ
    echo 3. ‰ΩøÁî® DEMO001/demo123 ÁôªÂÖ•
    echo 4. ÈñãÂßã‰∏ÄÂ†¥ÂÆåÊï¥ÁöÑÊ®°Êì¨ËÄÉË©¶ÔºÅ
    echo.
    echo üèÜ ÊÅ≠ÂñúÔºÅ‰Ω†Â∑≤Á∂ìÊúâ‰∏ÄÂÄãÂäüËÉΩÂÆåÊï¥ÁöÑËÄÉË©¶Á≥ªÁµ±‰∫ÜÔºÅ
) else (
    echo ‚ùå ÈÉ®ÁΩ≤Â§±ÊïóÔºåË´ãÊ™¢Êü•ÈåØË™§Ë®äÊÅØ
)

echo.
echo ====================================
echo ÂâçÁ´Ø‰∫íÂãïÂäüËÉΩÂ¢ûÂº∑ÂÆåÊàêÔºÅ
echo ====================================
pause